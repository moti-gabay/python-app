import './polyfills.server.mjs';
import{a as F}from"./chunk-JDHE5ASN.mjs";import{a as v,b as S,c as T,d as A,e as V,f as I,l as W,m as k}from"./chunk-Z5NRN2LX.mjs";import{l as O}from"./chunk-CNGXL7A2.mjs";import{Ab as D,Db as r,Fb as y,Ib as s,Jb as c,Ka as d,Kb as p,Oa as _,Ta as M,Xa as E,Y as m,Z as l,jb as b,kb as n,lb as o,rb as h,sb as C,tb as w,vc as x,yc as P}from"./chunk-7E6QDHKM.mjs";import"./chunk-T55IDOPT.mjs";function B(f,u){if(f&1&&(n(0,"div",20),r(1),o()),f&2){let i=w();d(),y(" ",i.message," ")}}var N=class f{constructor(u,i){this.router=u;this.traditionService=i}formData={title:"",short_description:"",full_content:"",category:"",image_url:""};message="";ngOnInit(){this.message=""}onSubmit(u){u.valid?(this.message="",this.traditionService.createTraditionItem(this.formData).subscribe({next:i=>{this.message="\u05E4\u05E8\u05D9\u05D8 \u05D4\u05DE\u05E1\u05D5\u05E8\u05EA \u05E0\u05D5\u05E1\u05E3 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4!",u.resetForm({title:"",short_description:"",full_content:"",category:"",image_url:""}),this.router.navigate(["/tradition"])},error:i=>{console.error("Error adding tradition item:",i),this.message=i.error?.message||"\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D4\u05D5\u05E1\u05E4\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D4\u05DE\u05E1\u05D5\u05E8\u05EA."}})):this.message="\u05D0\u05E0\u05D0 \u05DE\u05DC\u05D0 \u05D0\u05EA \u05DB\u05DC \u05D4\u05E9\u05D3\u05D5\u05EA \u05D4\u05E0\u05D3\u05E8\u05E9\u05D9\u05DD."}onCancel(){this.router.navigate(["/tradition"])}static \u0275fac=function(i){return new(i||f)(_(O),_(F))};static \u0275cmp=M({type:f,selectors:[["app-tradition-add"]],decls:32,vars:7,consts:[["traditionForm","ngForm"],[1,"tradition-add-container"],[1,"page-title"],[1,"add-form-wrapper"],[3,"ngSubmit"],[1,"form-group"],["for","title"],["type","text","id","title","name","title","required","",3,"ngModelChange","ngModel"],["for","short_description"],["id","short_description","name","short_description","rows","3",3,"ngModelChange","ngModel"],["for","full_content"],["id","full_content","name","full_content","rows","10","required","",3,"ngModelChange","ngModel"],["for","category"],["type","text","id","category","name","category",3,"ngModelChange","ngModel"],["for","image_url"],["type","url","id","image_url","name","image_url",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit",1,"submit-button",3,"disabled"],["type","button",1,"cancel-button",3,"click"],["class","form-message",4,"ngIf"],[1,"form-message"]],template:function(i,t){if(i&1){let a=h();n(0,"div",1)(1,"h2",2),r(2,"\u05D4\u05D5\u05E1\u05E4\u05EA \u05E4\u05E8\u05D9\u05D8 \u05DE\u05E1\u05D5\u05E8\u05EA \u05D7\u05D3\u05E9"),o(),n(3,"div",3)(4,"form",4,0),C("ngSubmit",function(){m(a);let e=D(5);return l(t.onSubmit(e))}),n(6,"div",5)(7,"label",6),r(8,"\u05DB\u05D5\u05EA\u05E8\u05EA:"),o(),n(9,"input",7),p("ngModelChange",function(e){return m(a),c(t.formData.title,e)||(t.formData.title=e),l(e)}),o()(),n(10,"div",5)(11,"label",8),r(12,"\u05EA\u05D9\u05D0\u05D5\u05E8 \u05E7\u05E6\u05E8:"),o(),n(13,"textarea",9),p("ngModelChange",function(e){return m(a),c(t.formData.short_description,e)||(t.formData.short_description=e),l(e)}),o()(),n(14,"div",5)(15,"label",10),r(16,"\u05EA\u05D5\u05DB\u05DF \u05DE\u05DC\u05D0:"),o(),n(17,"textarea",11),p("ngModelChange",function(e){return m(a),c(t.formData.full_content,e)||(t.formData.full_content=e),l(e)}),o()(),n(18,"div",5)(19,"label",12),r(20,"\u05E7\u05D8\u05D2\u05D5\u05E8\u05D9\u05D4:"),o(),n(21,"input",13),p("ngModelChange",function(e){return m(a),c(t.formData.category,e)||(t.formData.category=e),l(e)}),o()(),n(22,"div",5)(23,"label",14),r(24,"\u05DB\u05EA\u05D5\u05D1\u05EA \u05EA\u05DE\u05D5\u05E0\u05D4 (URL):"),o(),n(25,"input",15),p("ngModelChange",function(e){return m(a),c(t.formData.image_url,e)||(t.formData.image_url=e),l(e)}),o()(),n(26,"div",16)(27,"button",17),r(28,"\u05D4\u05D5\u05E1\u05E3 \u05E4\u05E8\u05D9\u05D8 \u05DE\u05E1\u05D5\u05E8\u05EA"),o(),n(29,"button",18),C("click",function(){return m(a),l(t.onCancel())}),r(30,"\u05D1\u05D9\u05D8\u05D5\u05DC"),o()(),E(31,B,2,1,"div",19),o()()()}if(i&2){let a=D(5);d(9),s("ngModel",t.formData.title),d(4),s("ngModel",t.formData.short_description),d(4),s("ngModel",t.formData.full_content),d(4),s("ngModel",t.formData.category),d(4),s("ngModel",t.formData.image_url),d(2),b("disabled",!a.valid),d(4),b("ngIf",t.message)}},dependencies:[P,x,k,I,v,S,T,W,V,A],styles:[".tradition-add-container[_ngcontent-%COMP%]{max-width:700px;margin:2rem auto;padding:1.5rem;background-color:#f7fafc;border-radius:12px;box-shadow:0 5px 15px #0000001a;direction:rtl;text-align:right;font-family:Inter,sans-serif}.page-title[_ngcontent-%COMP%]{font-size:clamp(1.8rem,5vw,2.5rem);color:#2d3748;margin-bottom:1.5rem;font-weight:700;text-align:center;border-bottom:2px solid #3498db;padding-bottom:.8rem}.form-message[_ngcontent-%COMP%]{text-align:center;padding:15px;margin:15px 0;border-radius:8px;font-size:1em;background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.add-form-wrapper[_ngcontent-%COMP%]{padding:1rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000000d}.form-group[_ngcontent-%COMP%]{margin-bottom:1.2rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:700;color:#4a5568}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=url][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.8rem;border:1px solid #cbd5e0;border-radius:8px;font-size:1rem;box-sizing:border-box;direction:rtl;text-align:right}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3498db;box-shadow:0 0 0 3px #3498db33}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:2rem}.submit-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border:none;border-radius:8px;cursor:pointer;font-size:1rem;font-weight:700;transition:background-color .3s ease,transform .2s ease}.submit-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#218838;transform:translateY(-2px)}.submit-button[_ngcontent-%COMP%]:disabled{background-color:#a0aec0;cursor:not-allowed}.cancel-button[_ngcontent-%COMP%]{background-color:#e2e8f0;color:#4a5568}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#cbd5e0;transform:translateY(-2px)}@media (max-width: 768px){.tradition-add-container[_ngcontent-%COMP%]{padding:1rem;margin:1rem auto}.page-title[_ngcontent-%COMP%]{font-size:clamp(1.6rem,6vw,2.2rem)}.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.8rem}.submit-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{width:100%}}"]})};export{N as TraditionAddComponent};
