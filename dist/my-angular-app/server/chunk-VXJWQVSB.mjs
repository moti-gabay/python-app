import './polyfills.server.mjs';
import{a as E}from"./chunk-KLYOUEEC.mjs";import{f as M,i as P,m as O}from"./chunk-JZSEUXEZ.mjs";import{Fa as u,Ga as _,Gc as T,Hb as v,Ja as n,Jb as x,Na as d,Sa as I,Vb as h,Wa as s,fb as o,gb as a,hb as c,ib as g,nb as l,pc as C,rc as b,sc as D,xb as m,yb as p,zb as f}from"./chunk-6QFCJR4J.mjs";import"./chunk-T55IDOPT.mjs";function w(e,i){if(e&1&&(a(0,"span",12),m(1),v(2,"date"),c()),e&2){let t=l(2);n(),f("\u05E4\u05D5\u05E8\u05E1\u05DD \u05D1: ",x(2,1,t.traditionItem.created_at,"fullDate"))}}function S(e,i){if(e&1&&(a(0,"span",13),m(1),c()),e&2){let t=l(2);n(),p(t.traditionItem.category)}}function k(e,i){if(e&1&&(a(0,"div",14),g(1,"img",15),c()),e&2){let t=l(2);n(),o("src",t.getFullImageUrl(t.traditionItem.image_url),_)("alt",t.traditionItem.title)}}function z(e,i){if(e&1&&(a(0,"div",3)(1,"h1",4),m(2),c(),a(3,"div",5),s(4,w,3,4,"span",6)(5,S,2,1,"span",7),c(),s(6,k,2,2,"div",8),g(7,"div",9),a(8,"div",10)(9,"a",11),m(10,"\u2190 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05DE\u05E1\u05D5\u05E8\u05EA \u05D4\u05D9\u05D4\u05D5\u05D3\u05D9\u05EA"),c()()()),e&2){let t=l();n(2),p(t.traditionItem.title),n(2),o("ngIf",t.traditionItem.created_at),n(),o("ngIf",t.traditionItem.category),n(),o("ngIf",t.traditionItem.image_url),n(),o("innerHTML",t.safeFullContent,u)}}function R(e,i){e&1&&(a(0,"div",16),m(1,` \u05D8\u05D5\u05E2\u05DF \u05E4\u05E8\u05D9\u05D8 \u05DE\u05E1\u05D5\u05E8\u05EA...
`),c())}function A(e,i){if(e&1&&(a(0,"div",17),m(1),c()),e&2){let t=l();n(),f(" ",t.error,`
`)}}var y=class e{constructor(i,t,r,F){this.cdr=i;this.route=t;this.traditionService=r;this.sanitizer=F}traditionItem=null;loading=!0;error="";safeFullContent=null;ngOnInit(){this.loading=!0,this.error="",this.route.paramMap.subscribe(i=>{let t=i.get("id");t?this.traditionService.getTraditionItemById(t).subscribe({next:r=>{this.traditionItem=r,this.traditionItem&&this.traditionItem.full_content&&(this.safeFullContent=this.sanitizer.bypassSecurityTrustHtml(this.traditionItem.full_content)),this.loading=!1,this.cdr.detectChanges()},error:r=>{console.error("\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05E4\u05EA \u05E4\u05E8\u05D9\u05D8 \u05DE\u05E1\u05D5\u05E8\u05EA:",r),this.error="\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05E4\u05E8\u05D9\u05D8 \u05D4\u05DE\u05E1\u05D5\u05E8\u05EA.",this.loading=!1}}):(this.error="\u05DE\u05D6\u05D4\u05D4 \u05E4\u05E8\u05D9\u05D8 \u05DE\u05E1\u05D5\u05E8\u05EA \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0.",this.loading=!1)})}getFullImageUrl(i){if(!i)return"https://placehold.co/600x400/cccccc/333333?text=\u05D0\u05D9\u05DF+\u05EA\u05DE\u05D5\u05E0\u05D4";let t=T;return i.startsWith("http://")||i.startsWith("https://")?i:`${t}${i}`}static \u0275fac=function(t){return new(t||e)(d(h),d(P),d(E),d(M))};static \u0275cmp=I({type:e,selectors:[["app-tradition-article"]],decls:3,vars:3,consts:[["class","tradition-article-container",4,"ngIf"],["class","loading-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"tradition-article-container"],[1,"article-title"],[1,"article-meta"],["class","published-date",4,"ngIf"],["class","category-tag",4,"ngIf"],["class","article-image-wrapper",4,"ngIf"],[1,"article-content",3,"innerHTML"],[1,"back-link"],["routerLink","/tradition"],[1,"published-date"],[1,"category-tag"],[1,"article-image-wrapper"],[1,"article-image",3,"src","alt"],[1,"loading-message"],[1,"error-message"]],template:function(t,r){t&1&&s(0,z,11,5,"div",0)(1,R,2,0,"div",1)(2,A,2,1,"div",2),t&2&&(o("ngIf",!r.loading&&r.traditionItem),n(),o("ngIf",r.loading),n(),o("ngIf",r.error))},dependencies:[D,C,b,O],styles:[".tradition-article-container[_ngcontent-%COMP%]{max-width:50rem;margin:2rem auto;padding:1rem;background-color:#fff;border-radius:12px;box-shadow:0 5px 15px #0000001a;direction:rtl;text-align:right;font-family:Inter,sans-serif}.article-title[_ngcontent-%COMP%]{font-size:clamp(1.8rem,5vw,2.8rem);color:#2c3e50;margin-bottom:1rem;font-weight:700;line-height:1.3}.article-meta[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;margin-bottom:1.5rem;border-bottom:1px solid #eee;padding-bottom:1rem;display:flex;justify-content:space-between;align-items:center}.category-tag[_ngcontent-%COMP%]{background-color:#eaf6fc;color:#3498db;padding:.3em .7em;border-radius:5px;font-weight:600}.article-image-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.article-image[_ngcontent-%COMP%]{max-width:90%;height:20rem;border-radius:8px;box-shadow:0 2px 8px #0000001a;object-fit:cover}.article-content[_ngcontent-%COMP%]{overflow:auto;font-size:clamp(1rem,2.5vw,1.15rem);color:#34495e;line-height:1.8;margin-bottom:2rem}.article-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1em}.article-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.4rem,4vw,2rem);margin-top:1.5em;margin-bottom:.8em;color:#2c3e50}.article-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .article-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-right:1.5em;margin-bottom:1em}.article-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5em}.back-link[_ngcontent-%COMP%]{margin:0 auto;width:20rem;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:9999px;cursor:pointer}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:9999px;cursor:pointer}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#57b2ef}.loading-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:1.2rem;color:#555}.error-message[_ngcontent-%COMP%]{color:#e74c3c}@media (max-width: 768px){.tradition-article-container[_ngcontent-%COMP%]{padding:1rem;margin:1rem auto}.article-title[_ngcontent-%COMP%]{font-size:clamp(1.6rem,6vw,2.2rem)}.article-content[_ngcontent-%COMP%]{font-size:clamp(.9rem,3vw,1rem)}.article-image[_ngcontent-%COMP%]{height:15rem}}"]})};export{y as TraditionInfo};
