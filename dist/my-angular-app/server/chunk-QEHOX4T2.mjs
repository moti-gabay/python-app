import './polyfills.server.mjs';
import{a as N}from"./chunk-R7Z2QI4B.mjs";import{a as k}from"./chunk-VAUBBFCK.mjs";import{f as P,i as O,m as S}from"./chunk-EWK4AQLR.mjs";import{Ab as v,Fa as d,Ga as u,Gb as I,Gc as E,Hb as h,Ja as i,Jb as x,Na as s,Sa as f,Vb as C,Wa as g,fb as o,gb as a,hb as c,ib as p,nb as l,pc as b,rc as D,sc as M,xb as m,yb as _,zb as w}from"./chunk-VYECWMAP.mjs";import"./chunk-T55IDOPT.mjs";var z=t=>["/edit-news",t];function A(t,n){if(t&1&&(a(0,"div",12),p(1,"img",13),c()),t&2){let e=l(2);i(),o("src",e.getFullImageUrl(e.newsItem.image_url),u)("alt",e.newsItem.title)}}function T(t,n){if(t&1&&(a(0,"a",14),m(1," \u05DC\u05E2\u05E8\u05D9\u05DB\u05EA \u05D4\u05DB\u05EA\u05D1\u05D4 \u2192"),c()),t&2){let e=l(2);o("routerLink",I(1,z,e.newsItem.id))}}function F(t,n){if(t&1&&(a(0,"div",3)(1,"h1",4),m(2),c(),a(3,"div",5)(4,"span",6),m(5),h(6,"date"),c()(),g(7,A,2,2,"div",7),p(8,"div",8),a(9,"div",9)(10,"a",10),m(11,"\u2190 \u05D7\u05D6\u05E8\u05D4 \u05DC\u05D7\u05D3\u05E9\u05D5\u05EA"),c()(),a(12,"div"),g(13,T,2,3,"a",11),c()()),t&2){let e=l();i(2),_(e.newsItem.title),i(3),v("\u05E4\u05D5\u05E8\u05E1\u05DD \u05D1: ",x(6,6,e.newsItem.published_at,"fullDate")," (",e.newsItem.timeAgo,")"),i(2),o("ngIf",e.newsItem.image_url),i(),o("innerHTML",e.safeFullContent,d),i(5),o("ngIf",e.isAdmin)}}function L(t,n){t&1&&(a(0,"div",15),m(1,` \u05D8\u05D5\u05E2\u05DF \u05DB\u05EA\u05D1\u05D4...
`),c())}function R(t,n){if(t&1&&(a(0,"div",16),m(1),c()),t&2){let e=l();i(),w(" ",e.error,`
`)}}var y=class t{constructor(n,e,r,j,H){this.route=n;this.cdr=e;this.newsService=r;this.sanitizer=j;this.authService=H}newsItem=null;loading=!0;error="";safeFullContent=null;isAdmin=!1;ngOnInit(){this.loading=!0,this.error="",this.route.paramMap.subscribe(n=>{let e=n.get("id");e?this.newsService.getNewsItemById(e).subscribe({next:r=>{this.newsItem=r,this.newsItem&&this.newsItem.full_content&&(this.safeFullContent=this.sanitizer.bypassSecurityTrustHtml(this.newsItem.full_content)),this.loading=!1,this.cdr.detectChanges()},error:r=>{console.error("Error fetching news article:",r),this.error="\u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05D8\u05E2\u05D9\u05E0\u05EA \u05D4\u05DB\u05EA\u05D1\u05D4.",this.loading=!1}}):(this.error="\u05DE\u05D6\u05D4\u05D4 \u05DB\u05EA\u05D1\u05D4 \u05DC\u05D0 \u05E0\u05DE\u05E6\u05D0.",this.loading=!1)})}getFullImageUrl(n){if(console.log(`${n}`),!n)return"https://placehold.co/400x200/cccccc/333333?text=\u05D0\u05D9\u05DF+\u05EA\u05DE\u05D5\u05E0\u05D4";let e=E;return n.startsWith("http://")||n.startsWith("https://")?n:`${e}${n}`}static \u0275fac=function(e){return new(e||t)(s(O),s(C),s(N),s(P),s(k))};static \u0275cmp=f({type:t,selectors:[["app-news-info"]],decls:3,vars:3,consts:[["class","news-article-container",4,"ngIf"],["class","loading-message",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"news-article-container"],[1,"article-title"],[1,"article-meta"],[1,"published-date"],["class","article-image-wrapper",4,"ngIf"],[1,"article-content",3,"innerHTML"],[1,"back-link"],["routerLink","/news"],["class","news-link",3,"routerLink",4,"ngIf"],[1,"article-image-wrapper"],[1,"article-image",3,"src","alt"],[1,"news-link",3,"routerLink"],[1,"loading-message"],[1,"error-message"]],template:function(e,r){e&1&&g(0,F,14,9,"div",0)(1,L,2,0,"div",1)(2,R,2,1,"div",2),e&2&&(o("ngIf",!r.loading&&r.newsItem),i(),o("ngIf",r.loading),i(),o("ngIf",r.error))},dependencies:[M,b,D,S],styles:[".news-article-container[_ngcontent-%COMP%]{max-width:800px;margin:2rem auto;padding:1.5rem;background-color:#fff;border-radius:12px;box-shadow:0 5px 15px #0000001a;direction:rtl;text-align:right;font-family:Inter,sans-serif}.article-title[_ngcontent-%COMP%]{font-size:clamp(1.8rem,5vw,2.8rem);color:#2c3e50;margin-bottom:1rem;font-weight:700;line-height:1.3}.article-meta[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;margin-bottom:1.5rem;border-bottom:1px solid #eee;padding-bottom:1rem}.article-image-wrapper[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center}.article-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;box-shadow:0 2px 8px #0000001a;object-fit:cover}.article-content[_ngcontent-%COMP%]{font-size:clamp(1rem,2.5vw,1.15rem);color:#34495e;line-height:1.8;margin-bottom:2rem}.article-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1em}.article-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(1.4rem,4vw,2rem);margin-top:1.5em;margin-bottom:.8em;color:#2c3e50}.article-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .article-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-right:1.5em;margin-bottom:1em}.article-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5em}.back-link[_ngcontent-%COMP%]{text-align:center;margin-top:2rem}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:9999px;cursor:pointer}.back-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#2980b9}.loading-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:1.2rem;color:#555}.error-message[_ngcontent-%COMP%]{color:#e74c3c}@media (max-width: 768px){.news-article-container[_ngcontent-%COMP%]{padding:1rem;margin:1rem auto}.article-title[_ngcontent-%COMP%]{font-size:clamp(1.6rem,6vw,2.2rem)}.article-content[_ngcontent-%COMP%]{font-size:clamp(.9rem,3vw,1rem)}}"]})};export{y as NewsInfo};
