import{Q as a,U as o,gc as p,kc as l,n as i,q as n,y as r}from"./chunk-NERK7KHH.js";var h=class s{constructor(e){this.http=e}newsList=[];apiUrl=l+"/news";getNews(){return this.http.get(this.apiUrl,{withCredentials:!0}).pipe(r(this.handleError))}getNewsItemById(e){return this.http.get(`${this.apiUrl}/${e}`,{withCredentials:!0}).pipe(r(this.handleError))}createNewsItem(e){return this.http.post(this.apiUrl,e,{withCredentials:!0}).pipe(r(this.handleError))}updateNewsItem(e,t){return this.http.put(`${this.apiUrl}/${e}`,t,{withCredentials:!0}).pipe(r(this.handleError))}deleteNewsItem(e){return this.http.delete(`${this.apiUrl}/${e}`,{withCredentials:!0}).pipe(r(this.handleError))}handleError(e){let t="An unknown error occurred!";return e.error instanceof ErrorEvent?t=`Client-side error: ${e.error.message}`:t=`Server-side error: ${e.status}
Message: ${e.error?.message||e.statusText}`,console.error("NewsService: HTTP Error:",t,e),i(()=>new Error(t))}getNewsIds(){return this.getNews().pipe(n(e=>e.map(t=>({id:t.id||t._id}))))}static \u0275fac=function(t){return new(t||s)(o(p))};static \u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})};export{h as a};
