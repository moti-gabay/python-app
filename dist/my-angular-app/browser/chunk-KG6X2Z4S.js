import{a as j,b as F,c as I,d as W,e as T,f as N,l as k,m as z}from"./chunk-647I7AV7.js";import{Ab as u,Bb as l,Ia as c,Ma as p,Nb as x,Q as D,Ra as h,U as b,Va as E,Zb as w,ac as P,cb as M,db as a,eb as r,gc as O,jb as _,kb as S,kc as R,n as f,sb as v,ub as s,wb as y,y as C,zb as m}from"./chunk-VO2ANZID.js";var g=class i{constructor(t){this.http=t}apiUrl=R+"/api";sendContactForm(t){return this.http.post(`${this.apiUrl}/send-contact-email`,t,{withCredentials:!0}).pipe(C(this.handleError))}handleError(t){let e="An unknown error occurred!";return t.error instanceof ErrorEvent?e=`Client-side error: ${t.error.message}`:e=`Server-side error: ${t.status}
Message: ${t.error?.message||t.statusText}`,console.error("ContactService: HTTP Error:",e,t),f(()=>new Error(e))}static \u0275fac=function(e){return new(e||i)(b(O))};static \u0275prov=D({token:i,factory:i.\u0275fac,providedIn:"root"})};function q(i,t){if(i&1&&(a(0,"div",15),s(1),r()),i&2){let e=S();v("success",e.isSuccess)("error",!e.isSuccess),c(),y(" ",e.statusMessage," ")}}var H=class i{constructor(t,e){this.contactService=t;this.cdr=e}contactData={name:"",email:"",subject:"",message:""};statusMessage="";isSuccess=!1;onSubmit(){if(this.statusMessage="",!this.contactData.name||!this.contactData.email||!this.contactData.message){this.statusMessage="\u05D0\u05E0\u05D0 \u05DE\u05DC\u05D0 \u05D0\u05EA \u05DB\u05DC \u05D4\u05E9\u05D3\u05D5\u05EA \u05D4\u05DE\u05E1\u05D5\u05DE\u05E0\u05D9\u05DD \u05D1\u05DB\u05D5\u05DB\u05D1\u05D9\u05EA.",this.isSuccess=!1;return}this.contactService.sendContactForm(this.contactData).subscribe({next:t=>{this.statusMessage="\u05D4\u05D5\u05D3\u05E2\u05EA\u05DA \u05E0\u05E9\u05DC\u05D7\u05D4 \u05D1\u05D4\u05E6\u05DC\u05D7\u05D4! \u05E0\u05D7\u05D6\u05D5\u05E8 \u05D0\u05DC\u05D9\u05DA \u05D1\u05D4\u05E7\u05D3\u05DD.",this.isSuccess=!0,this.cdr.detectChanges(),this.resetForm(),alert(this.statusMessage)},error:t=>{this.statusMessage="\u05D0\u05D9\u05E8\u05E2\u05D4 \u05E9\u05D2\u05D9\u05D0\u05D4 \u05D1\u05E9\u05DC\u05D9\u05D7\u05EA \u05D4\u05D4\u05D5\u05D3\u05E2\u05D4. \u05D0\u05E0\u05D0 \u05E0\u05E1\u05D4 \u05E9\u05D5\u05D1 \u05DE\u05D0\u05D5\u05D7\u05E8 \u05D9\u05D5\u05EA\u05E8.",this.isSuccess=!1,console.error("Failed to send contact email:",t)}})}resetForm(){this.contactData={name:"",email:"",subject:"",message:""}}static \u0275fac=function(e){return new(e||i)(p(g),p(x))};static \u0275cmp=h({type:i,selectors:[["app-contact"]],decls:25,vars:5,consts:[[1,"contact-container"],[1,"contact-title"],[1,"contact-description"],[1,"contact-form",3,"ngSubmit"],[1,"form-group"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","subject",1,"form-label"],["type","text","id","subject","name","subject",1,"form-input",3,"ngModelChange","ngModel"],["for","message",1,"form-label"],["id","message","name","message","rows","5","required","",1,"form-textarea",3,"ngModelChange","ngModel"],["type","submit",1,"submit-button"],["class","status-message",3,"success","error",4,"ngIf"],[1,"status-message"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"h2",1),s(2,"\u05E6\u05D5\u05E8 \u05E7\u05E9\u05E8"),r(),a(3,"p",2),s(4," \u05D9\u05E9 \u05DC\u05DA \u05E9\u05D0\u05DC\u05D4, \u05D1\u05E7\u05E9\u05D4 \u05D0\u05D5 \u05DE\u05E9\u05D5\u05D1? \u05E0\u05E9\u05DE\u05D7 \u05DC\u05E9\u05DE\u05D5\u05E2 \u05DE\u05DE\u05DA! "),r(),a(5,"form",3),_("ngSubmit",function(){return o.onSubmit()}),a(6,"div",4)(7,"label",5),s(8,"\u05E9\u05DD \u05DE\u05DC\u05D0:"),r(),a(9,"input",6),l("ngModelChange",function(n){return u(o.contactData.name,n)||(o.contactData.name=n),n}),r()(),a(10,"div",4)(11,"label",7),s(12,"\u05D0\u05D9\u05DE\u05D9\u05D9\u05DC:"),r(),a(13,"input",8),l("ngModelChange",function(n){return u(o.contactData.email,n)||(o.contactData.email=n),n}),r()(),a(14,"div",4)(15,"label",9),s(16,"\u05E0\u05D5\u05E9\u05D0:"),r(),a(17,"input",10),l("ngModelChange",function(n){return u(o.contactData.subject,n)||(o.contactData.subject=n),n}),r()(),a(18,"div",4)(19,"label",11),s(20,"\u05D4\u05D5\u05D3\u05E2\u05D4:"),r(),a(21,"textarea",12),l("ngModelChange",function(n){return u(o.contactData.message,n)||(o.contactData.message=n),n}),r()(),a(22,"button",13),s(23,"\u05E9\u05DC\u05D7 \u05D4\u05D5\u05D3\u05E2\u05D4"),r()(),E(24,q,2,5,"div",14),r()),e&2&&(c(9),m("ngModel",o.contactData.name),c(4),m("ngModel",o.contactData.email),c(4),m("ngModel",o.contactData.subject),c(4),m("ngModel",o.contactData.message),c(3),M("ngIf",o.statusMessage))},dependencies:[P,w,z,N,j,F,I,k,T,W],styles:[".contact-container[_ngcontent-%COMP%]{padding:2.5rem;margin-top:2rem;background-color:#fff;border-radius:12px;box-shadow:0 10px 20px #0000001a;max-width:600px;margin-left:auto;margin-right:auto;text-align:center;font-family:Inter,sans-serif;direction:rtl;height:auto}.contact-title[_ngcontent-%COMP%]{font-size:2.2rem;color:#2c3e50;margin-bottom:1rem;font-weight:700}.contact-description[_ngcontent-%COMP%]{font-size:1.1rem;color:#555;margin-bottom:2rem;line-height:1.6}.contact-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-group[_ngcontent-%COMP%]{text-align:right}.form-label[_ngcontent-%COMP%]{display:block;font-size:1rem;color:#333;margin-bottom:.5rem;font-weight:600}.form-input[_ngcontent-%COMP%], .form-textarea[_ngcontent-%COMP%]{width:100%;padding:.8rem;border:1px solid #ccc;border-radius:6px;font-size:1rem;text-align:right;box-sizing:border-box}.form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.submit-button[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;padding:.75rem 1.5rem;border:none;border-radius:9999px;cursor:pointer}.submit-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.status-message[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem;border-radius:6px;font-weight:600;font-size:1rem;text-align:center}.status-message.success[_ngcontent-%COMP%]{background-color:#e6ffe6;color:#28a745;border:1px solid #28a745}.status-message.error[_ngcontent-%COMP%]{background-color:#ffe6e6;color:#dc3545;border:1px solid #dc3545}"]})};export{H as ContactComponent};
